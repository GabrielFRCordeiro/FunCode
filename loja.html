<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunCode</title>
    <link rel="icon" href="./assets/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/style_config.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand+SC&display=swap" rel="stylesheet">
  
</head>
<body>


  <nav class="navbar navegacao">
    <div class="container-fluid">
      <a href="menu.html"><img src="./assets/robo_nav.png" alt="robo_nav"></a>

        <div class="coluna">    
            <a class="navbar-brand imagem_nav" href="#">
                <img src="./assets/coracao.png" alt="robo_nav" class="d-inline-block align-text-top">
                <span id="coracao-count">0</span> <!-- Exibe a quantidade de corações -->
            </a>
        </div>

        <div class="coluna">
            <a class="navbar-brand imagem_nav" href="#">
                <img src="./assets/moeda.png" alt="robo_nav" class="d-inline-block align-text-top">
                <span id="moeda-count">0</span> <!-- Exibe a quantidade de moedas -->
            </a>
        </div>

        <div class="coluna">        
            <a class="navbar-brand imagem_nav" href="#">
                <img src="./assets/diamante.png" alt="robo_nav" class="d-inline-block align-text-top">
                <span id="diamante-count">0</span> <!-- Exibe a quantidade de diamantes -->
            </a>
        </div>
    </div>
</nav>

   <!-- final da nav -->
 
      
 <main class="loja">
  <!-- Fundo -->
  <div id="fundo" class="container col-11">

    <!-- Seta & Configurações -->
    <div class="d-flex col align-items-center">
      
      <div class="col-auto m-3">
        <a href="menu.html"><img src="assets/streamline_return-2-solid.png" alt=""></a>
      </div>

      <div class="col-8 rounded-3 bg-white m-4"><h2 class="mx-auto text-center">Loja de Avatar</h2></div>


      <div class="col"   ><a href="loja2.html"><img src="assets/seta_avanca.png" alt=""></a></div>
    </div>


      

    <!-- Sequência de Comandos -->
    <div class="d-flex colunm col-12">
      
        <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
          <img src="assets/8.png"  alt="">
          <h2 class="d-flex justify-content-center">Gustavo</h2>
          <h4 class="d-flex justify-content-center">Free</h4>
        </div>

        <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
          <img src="assets/7.png"  alt="">
          <h2 class="d-flex justify-content-center">Larissa</h2>
          <h4 class="d-flex justify-content-center">Free</h4>
        </div>
        
    </div>
    
    <!-- Aqui é parte central pra deixa a seta de avançar -->
    <div class="d-flex colunm col-12">
      
      <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
        <img src="assets/1.png"  alt="">
        <h2 class="d-flex justify-content-center">Samuel</h2>
        <h4 class="d-flex justify-content-center">Free</h4>
      </div>

      <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
        <img src="assets/9.png"  alt="">
        <h2 class="d-flex justify-content-center">Rogério</h2>
        <h4 class="d-flex justify-content-center">Free</h4>
      </div>
      
  </div>
  
    <div class="d-flex colunm col-12">
      
        <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
          <img src="assets/10.png"  alt="">
          <h2 class="d-flex justify-content-center">Gabriel </h2>

            <div class="d-flex justify-content-center align-items-center">
              <h4 class="">010</h4>
              <img class="p-2" src="assets/moeda_pequena.png" alt="">
            </div>
        
        </div>

        <div class="col-3 d-flex row mx-auto bg-white m-2 rounded-2">
          <img src="assets/5.png"  alt="">
          <h2 class="d-flex justify-content-center">Raviel</h2>
              
            <div class="d-flex justify-content-center align-items-center">
              <h4 class="">010</h4>
              <img class="p-2" src="assets/diamante_pequeno.png" alt="">
            </div>      
        
        </div>
    </div>


    
     
  </div>
</main>

  
    
<footer class="fixed-bottom ">
      
  <div class="container my-4">
    <div class="row mx-auto ">
      <div class="col ">
        <a href="./menu.html"><img src="assets/folter_inicio.png" alt=""></a>
      </div>
      <div class="col ">
        <a href="./rank_de_Usuario.html"><img src="assets/folter_trof.png" alt=""></a>
      </div>
      <div class="col ">
        <a href="./TelaConfig.html"><img src="assets/conf.png" alt=""></a>
      </div>
      <div class="col ">
        <a href="./loja.html"><img src="assets/loja.png" alt=""></a>
      </div>
      <div class="col ">
        <a href="./index.html"><img src="assets/btn_sair.png" alt=""></a>
      </div>
    </div>
  </div>

</footer>

  
<script>// URL da API de recursos
  const RECURSOS_API_URL = 'http://127.0.0.1:5000/recursos/';
  
  // Obtém os dados do usuário do sessionStorage
  const usuarioData = JSON.parse(sessionStorage.getItem('usuario'));
  let trilhaId = null;
  
  if (usuarioData && usuarioData.user_id) {
      const id_usuario = usuarioData.user_id;
  
      // Faz o fetch para obter os dados de trilha e recurso do usuário
      fetch(`http://127.0.0.1:5000/user_trilha_recurso/${id_usuario}`)
          .then(response => response.json())
          .then(data => {
              if (data.length > 0) {
                  const trilhaRecurso = data[0];
                  trilhaId = trilhaRecurso.trilha_id;
  
                  // Atualiza os valores na interface
                  document.querySelector("#coracao-count").textContent = trilhaRecurso.CORACAO;
                  document.querySelector("#moeda-count").textContent = trilhaRecurso.MOEDA;
                  document.querySelector("#diamante-count").textContent = trilhaRecurso.DIAMANTE;
              } else {
                  console.error("Nenhum dado encontrado para o usuário.");
              }
          })
          .catch(error => console.error("Erro ao obter trilha e recurso:", error));
  } else {
      console.error("ID do usuário não encontrado no sessionStorage.");
  }
  </script>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>